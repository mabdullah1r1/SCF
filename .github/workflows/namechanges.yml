on:
  workflow_dispatch:
  deployment_status:
    types:
      - created

jobs:
  workflow:
    runs-on: ubuntu-latest

    steps:
      - name: Update Workflow Run Name
        uses: actions/github-script@v5
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            const deploymentName = '${{ needs.deployment.outputs.deployment_name }}';
            github.actions.updateWorkflowRun({
              run_id: context.runId,
              name: deploymentName
            });
